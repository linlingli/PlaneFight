{"version":3,"sources":["file:///Users/lipeiling/PlaneFight/assets/Scritps/EnemyManager.ts"],"names":["_decorator","Component","instantiate","math","Prefab","ccclass","property","EnemyManager","start","schedule","enemy0Spawn","enemy0SpawnRate","enemy1Spawn","enemy1SpawnRate","enemy2Spawn","enemy2SpawnRate","rewardSpawn","rewardSpawnRate","update","deltaTime","onDestroy","unschedule","objectSpawn","enemy0Prefab","enemy1Prefab","enemy2Prefab","randomNumber","randomRangeInt","prefab","reward1Prefab","reward2Prefab","objPrefab","mixX","maxX","Y","enemy","node","addChild","randomX","setPosition"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,I,OAAAA,I;AAAYC,MAAAA,M,OAAAA,M;;;;;;;;;OACnD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;8BAGjBO,Y,WADZF,OAAO,CAAC,cAAD,C,UAKHC,QAAQ,CAACF,MAAD,C,UAKRE,QAAQ,CAACF,MAAD,C,UAKRE,QAAQ,CAACF,MAAD,C,UAKRE,QAAQ,CAACF,MAAD,C,UAERE,QAAQ,CAACF,MAAD,C,2BAtBb,MACaG,YADb,SACkCN,SADlC,CAC4C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAwBxCO,QAAAA,KAAK,GAAG;AACJ;AACA,eAAKC,QAAL,CAAc,KAAKC,WAAnB,EAAgC,KAAKC,eAArC;AACA,eAAKF,QAAL,CAAc,KAAKG,WAAnB,EAAgC,KAAKC,eAArC;AACA,eAAKJ,QAAL,CAAc,KAAKK,WAAnB,EAAgC,KAAKC,eAArC;AACA,eAAKN,QAAL,CAAc,KAAKO,WAAnB,EAAgC,KAAKC,eAArC;AACH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAESC,QAAAA,SAAS,GAAS;AACxB;AACA,eAAKC,UAAL,CAAgB,KAAKX,WAArB;AACA,eAAKW,UAAL,CAAgB,KAAKT,WAArB;AACA,eAAKS,UAAL,CAAgB,KAAKP,WAArB;AACA,eAAKO,UAAL,CAAgB,KAAKL,WAArB;AACH;;AAEDN,QAAAA,WAAW,GAAG;AACV,eAAKY,WAAL,CAAiB,KAAKC,YAAtB,EAAoC,CAAC,GAArC,EAA0C,GAA1C,EAA+C,GAA/C;AACH;;AAEDX,QAAAA,WAAW,GAAG;AACV,eAAKU,WAAL,CAAiB,KAAKE,YAAtB,EAAoC,CAAC,GAArC,EAA0C,GAA1C,EAA+C,GAA/C;AACH;;AAEDV,QAAAA,WAAW,GAAG;AACV,eAAKQ,WAAL,CAAiB,KAAKG,YAAtB,EAAoC,CAAC,GAArC,EAA0C,GAA1C,EAA+C,GAA/C;AACH;;AAEDT,QAAAA,WAAW,GAAG;AACV,gBAAMU,YAAY,GAAGvB,IAAI,CAACwB,cAAL,CAAoB,CAApB,EAAuB,CAAvB,CAArB,CADU,CACqC;;AAC/C,cAAIC,MAAM,GAAG,IAAb;;AACA,cAAIF,YAAY,KAAK,CAArB,EAAwB;AACpBE,YAAAA,MAAM,GAAG,KAAKC,aAAd;AACH,WAFD,MAEO;AACHD,YAAAA,MAAM,GAAG,KAAKE,aAAd;AACH;;AACD,eAAKR,WAAL,CAAiBM,MAAjB,EAAyB,CAAC,GAA1B,EAA+B,GAA/B,EAAoC,GAApC;AACH;;AAEDN,QAAAA,WAAW,CAACS,SAAD,EAAoBC,IAApB,EAAkCC,IAAlC,EAAgDC,CAAhD,EAA2D;AAClE,gBAAMC,KAAK,GAAGjC,WAAW,CAAC6B,SAAD,CAAzB,CADkE,CAC7B;;AACrC,eAAKK,IAAL,CAAUC,QAAV,CAAmBF,KAAnB,EAFkE,CAExC;AAC1B;;AACA,gBAAMG,OAAO,GAAGnC,IAAI,CAACwB,cAAL,CAAoBK,IAApB,EAA0BC,IAA1B,CAAhB;AACAE,UAAAA,KAAK,CAACI,WAAN,CAAkBD,OAAlB,EAA2BJ,CAA3B,EAA8B,CAA9B;AACH;;AAzEuC,O,kFAEvC5B,Q;;;;;iBACyB,C;;;;;;;iBAEH,I;;0FAEtBA,Q;;;;;iBACyB,C;;;;;;;iBAEH,I;;0FAEtBA,Q;;;;;iBACyB,E;;;;;;;iBAEH,I;;0FAEtBA,Q;;;;;iBACyB,E;;;;;;;iBAEF,I;;;;;;;iBAEA,I","sourcesContent":["import { _decorator, Component, instantiate, math, Node, Prefab } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('EnemyManager')\nexport class EnemyManager extends Component {\n\n    @property\n    enemy0SpawnRate: number = 1\n    @property(Prefab)\n    enemy0Prefab: Prefab = null\n\n    @property\n    enemy1SpawnRate: number = 3\n    @property(Prefab)\n    enemy1Prefab: Prefab = null\n\n    @property\n    enemy2SpawnRate: number = 10\n    @property(Prefab)\n    enemy2Prefab: Prefab = null\n\n    @property\n    rewardSpawnRate: number = 15\n    @property(Prefab)\n    reward1Prefab: Prefab = null\n    @property(Prefab)\n    reward2Prefab: Prefab = null\n\n    start() {\n        // 設置定時器(調用方法,間隔時間)\n        this.schedule(this.enemy0Spawn, this.enemy0SpawnRate)\n        this.schedule(this.enemy1Spawn, this.enemy1SpawnRate)\n        this.schedule(this.enemy2Spawn, this.enemy2SpawnRate)\n        this.schedule(this.rewardSpawn, this.rewardSpawnRate)\n    }\n\n    update(deltaTime: number) {\n\n    }\n\n    protected onDestroy(): void {\n        // 銷毀定時器\n        this.unschedule(this.enemy0Spawn)\n        this.unschedule(this.enemy1Spawn)\n        this.unschedule(this.enemy2Spawn)\n        this.unschedule(this.rewardSpawn)\n    }\n\n    enemy0Spawn() {\n        this.objectSpawn(this.enemy0Prefab, -215, 215, 450)\n    }\n\n    enemy1Spawn() {\n        this.objectSpawn(this.enemy1Prefab, -200, 200, 475)\n    }\n\n    enemy2Spawn() {\n        this.objectSpawn(this.enemy2Prefab, -155, 155, 560)\n    }\n\n    rewardSpawn() {\n        const randomNumber = math.randomRangeInt(0, 2) // 包含0 不包含2  0,1\n        let prefab = null\n        if (randomNumber === 0) {\n            prefab = this.reward1Prefab\n        } else {\n            prefab = this.reward2Prefab\n        }\n        this.objectSpawn(prefab, -207, 207, 474)\n    }\n\n    objectSpawn(objPrefab: Prefab, mixX: number, maxX: number, Y: number) {\n        const enemy = instantiate(objPrefab) // 實例化enemy\n        this.node.addChild(enemy) // 添加到場景當中\n        // 隨機設置位置 x軸：-200 ~ 200 y軸保持不變\n        const randomX = math.randomRangeInt(mixX, maxX)\n        enemy.setPosition(randomX, Y, 0)\n    }\n}\n\n"]}